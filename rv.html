<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"> <title>How to Find an Exoplanet</title>
  <link rel="stylesheet" type="text/css" href="rv.css">
  <script src="rv.min.js"></script>
  <script src="canvasjs.min.js"></script>
</head>

<body style="font-family:sans-serif;
             font-size:15px;
             width:600px;
             margin-left:auto;
             margin-right:auto;
             background-color:white ;"> <!-- #c0c0c0 -->

    <h1 style="font-size:24px; text-align:center;">How to Find an Exoplanet</h1>


    <div class="wrapper">
      <canvas id="theSunCanvas" width="500" height="500"></canvas>
      <canvas id="trailSunCanvas" width="500" height="500"></canvas>
      <canvas id="thePlanetCanvas" width="500" height="500"></canvas>
      <canvas id="trailPlanetCanvas" width="500" height="500"></canvas>
    </div>

    <div id="chartContainer" style="height: 200px; width: 100%;">
    </div>

    <div style="text-align:center" >
      <a class="customButton" href="javascript:void(0)"
          onclick="fireProjectile();" ontouchstart="">Fire!</a>

      &nbsp;

      <a class="customButton" href="javascript:void(0)"
              onclick="clearTrails();" ontouchstart="">Clear</a>

      &nbsp;
      <a class="customButton" href="javascript:void(0)"
              onclick="stopIntegration();" ontouchstart="">Stop</a>

      &nbsp;

      Eccentricity = <span id="eReadout">0</span>
      <input type="range" id="eSlider" min="0" max=".6" step=".01" value="0" oninput="initVars();" onchange="initVars();">

      &nbsp;
      Semi Major Axis = <span id="aReadout">1</span> AU
      <input type="range" id="aSlider" min="-1.5" max="2" step=".01" value="0" oninput="initVars();" onchange="initVars();">
      &nbsp;
      Planet Mass = <span id="mReadout">-4</span> Msun
      <input type="range" id="mSlider" min="-5" max="0" step=".01" value="-4" oninput="initVars();" onchange="initVars();">
    </div>



    <p>This simulation is based on Isaac Newton's famous thought experiment and illustration of firing a projectile from a high mountaintop at various speeds, as he described in <a href="http://books.google.com/books?id=DXE9AAAAcAAJ">A Treatise of the System of the World.</a></p>




    <script>
      var speedSlider = document.getElementById("speedSlider");

      var theSunCanvas = document.getElementById("theSunCanvas");
      var theSunContext = theSunCanvas.getContext("2d");

      var trailSunCanvas = document.getElementById("trailSunCanvas");
      var trailSunContext = trailSunCanvas.getContext("2d");

      var thePlanetCanvas = document.getElementById("thePlanetCanvas");
      var thePlanetContext = thePlanetCanvas.getContext("2d");

      var trailPlanetCanvas = document.getElementById("trailPlanetCanvas");
      var trailPlanetContext = trailPlanetCanvas.getContext("2d");

      var speedReadout = document.getElementById("speedReadout");


      var eSlider = document.getElementById('eSlider');
      var aSlider = document.getElementById('aSlider');
      var mSlider = document.getElementById('mSlider');
      var NewtG  = 4*Math.PI*Math.PI;
      var VtoKms = 4.74057172;
      var Moving = true;

      var timer;


      var ecc,semia, PlanetMass;

      var ReducedMass,mtot,sfac, AuPerPixel;
      var SunX, SunY, PlanetX, PlanetY;
      var SunVx, SunVy, PlanetVx, PlanetVy, SunVr;

      var dt,dt2;
      var totaltime = 0;

      // Plotting
      var dps = []; // dataPoints

      var chart;

      var chartx = 0;
      var charty = 0;
      //		var updateInterval = 20;
      var dataLength = 600; // number of dataPoints visible at any point

      var count=0;
      var timeResolution;  // Data will be taken every timeResolution years



      initVars();


    </script>
</body>

</html>
